<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>NA • scrattch.mapping</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="NA"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">scrattch.mapping</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/go_to_examples.html">Go to examples</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>NA</h1>
    </div>


<div class="section level2">
<h2 id="scrattchmapping-v12">scrattch.mapping v1.2<a class="anchor" aria-label="anchor" href="#scrattchmapping-v12"></a></h2>
<p>Improvements for mapping and patch-seq for schema.</p>
<div class="section level3">
<h3 id="major-changes">Major changes<a class="anchor" aria-label="anchor" href="#major-changes"></a></h3>
<ul><li>
<code>taxonomyMapping</code> now works correctly for all algorithms except mapmycells.flat.map and mapmycells.hierarchical.map</li>
<li>Adding html documentation for functions</li>
<li>Fix for any hierarchy names (not just cluster_id or cluster_label)</li>
<li>Correct treatment of high variance / marker genes</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes"></a></h3>
<ul><li>Bug fixes</li>
<li>Updated documentation</li>
<li>Allow query.data to be inputted as either cellxgene or genexcell for <code>taxonomyMapping</code>
</li>
<li>Possibly fixes an error to tree mapping that was removing many genes from the mapping &lt;- need to confirm!</li>
</ul><p>–</p>
</div>
</div>
<div class="section level2">
<h2 id="scrattchmapping-v071">scrattch.mapping v0.7.1<a class="anchor" aria-label="anchor" href="#scrattchmapping-v071"></a></h2>
<p>Updates to improve correlation mapping</p>
<div class="section level3">
<h3 id="major-changes-1">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-1"></a></h3>
<ul><li>Updated <code>taxonomyMapping</code> wrapper to allow flexibility, while keeping defaults and back-compatibility intact</li>
<li>Updated <code>corrMap</code> to allow gene list or logical input, and to default to appropriate variable gene set</li>
<li>Updated <code>seuratMap</code> the same way, and also to only pull mode-specific cells and clusters</li>
<li>Updated all three of the above functions to properly consider the current mode</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-1">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-1"></a></h3>
<ul><li>Synchronized versions between scrattch.taxonomy, scrattch.mapping, an scrattch.patchseq</li>
<li>Error correction</li>
<li>Improved documentation on mapping methods</li>
</ul><p>–</p>
</div>
</div>
<div class="section level2">
<h2 id="scrattchmapping-v0556">scrattch.mapping v0.55.6<a class="anchor" aria-label="anchor" href="#scrattchmapping-v0556"></a></h2>
<p>Updates to streamline and fix the examples</p>
<div class="section level3">
<h3 id="major-changes-2">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2"></a></h3>
</div>
<div class="section level3">
<h3 id="minor-changes-2">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2"></a></h3>
<ul><li>Updated examples</li>
<li>Related minor bug fixes and function edits</li>
<li>Updated help files</li>
</ul><p>–</p>
</div>
</div>
<div class="section level2">
<h2 id="scrattchmapping-v0555">scrattch.mapping v0.55.5<a class="anchor" aria-label="anchor" href="#scrattchmapping-v0555"></a></h2>
<p>Major updates correcting issues with hierarchical and Seurat mapping</p>
<div class="section level3">
<h3 id="major-changes-3">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-3"></a></h3>
<ul><li>Update <code>seuratMap.R</code> to correct Seurat mapping, by rolling back to Seurat v4.4 and largely rewriting the code</li>
<li>Allowing hierarchical mapping to work on modes other than ‘standard’</li>
<li>Returning detailed information for hierarchical mapping (e.g., top 5 matches and bootstrap probabilities) in main results</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3"></a></h3>
<ul><li>Additional minor bug fixes</li>
<li>Updated help files</li>
</ul><p>–</p>
</div>
</div>
<div class="section level2">
<h2 id="scrattchmapping-v0522">scrattch.mapping v0.52.2<a class="anchor" aria-label="anchor" href="#scrattchmapping-v0522"></a></h2>
<p>Major change to how we return mapping results.</p>
<div class="section level3">
<h3 id="major-changes-4">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-4"></a></h3>
<p><code>taxonomy_mapping</code> now returns an S4 class called <code>mappingClass</code>. We’ve included a single method <code><a href="reference/getMappingResults.html">getMappingResults()</a></code> to extract the results table from the S4 class.</p>
</div>
<div class="section level3">
<h3 id="minor-changes-4">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-4"></a></h3>
<p>Many bug fixes and path handling</p>
<p>–</p>
</div>
</div>
<div class="section level2">
<h2 id="scrattchmapping-v04">scrattch.mapping v0.4<a class="anchor" aria-label="anchor" href="#scrattchmapping-v04"></a></h2>
<p>Remove code associated with taxonomy building to scrattch.taxonomy.</p>
<div class="section level3">
<h3 id="major-changes-5">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-5"></a></h3>
</div>
<div class="section level3">
<h3 id="minor-changes-5">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-5"></a></h3>
<p>–</p>
</div>
</div>
<div class="section level2">
<h2 id="scrattchmapping-v021">scrattch.mapping v0.21<a class="anchor" aria-label="anchor" href="#scrattchmapping-v021"></a></h2>
<p>This version of scrattch.mapping additionally simplifies the PatchSeq workflow and file structure by moving content from additional files to the h5ad and by allowing for a precalculated dendogram to be input to <code>buildTaxonomy()</code>.</p>
<div class="section level3">
<h3 id="major-changes-6">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-6"></a></h3>
<ul><li><p><code>buildTaxonomy()</code> allows for a precalculated dendrogram to be input (back-compatible, so by default the dendrogram is generated).</p></li>
<li><p>Move the patchseqQC variables from file to Anndata object (only only remaining files outside h5ad are dend.RData, de.genes.rda, and membership_information_reference.rda, which we plan to move to the h5ad in future updates).</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-6">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-6"></a></h3>
<ul><li><p>Create a new example for generating the <a href="https://www.nature.com/articles/s41586-019-1506-7" class="external-link">Hodge et al 2019</a> MTG taxonomy and mapping patch-seq to it.</p></li>
<li><p>Allow <code>loadTaxonomy()</code> to read either a folder location or an anndata file directly.</p></li>
<li><p>Error correction in addDendrogramMarkers (and other functions).</p></li>
<li><p>Auto-correct ‘' –&gt;’/’ for different platforms in file paths to allow compatibility betwee Windows and Unix, through use of a <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code> wrapper (beta).</p></li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="scrattchmapping-v02">scrattch.mapping v0.2<a class="anchor" aria-label="anchor" href="#scrattchmapping-v02"></a></h2>
<p>Updates to this version of scrattch.mapping are primarily associated with improving and simplifying the PatchSeq workflow by allowing for Taxonomy versions which filter out target cell types and can be re-used once built. Moving towards removal of label.cols from <code><a href="reference/taxonomy_mapping.html">taxonomy_mapping()</a></code>.</p>
<p>Updated examples for new workflows are provided on our github page.</p>
<div class="section level3">
<h3 id="major-changes-7">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-7"></a></h3>
<ul><li><p><code>buildPatchseqTaxonomy()</code> saves off-target cells into the taxonomy anndata for filtering to specific cell types. To be generalized past patchseq in the future.</p></li>
<li><p>Enabled the dynamic modification of a <code>base</code> taxonomy into a filtered taxonomy <code>version</code> for mapping using Corr, Tree and Seurat.</p></li>
<li><p>Taxonomy <code>versions</code> are stored in the .h5ad file and can be reused in future mappings by an user.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-7">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-7"></a></h3>
<ul><li><p><code>buildTaxonomy()</code> now also creates the anndata object, this was done only in loadTaxonomy previously.</p></li>
<li><p>New parameter to <code>buildTaxonomy()</code>, <code>taxonomyName</code> allows the user to encode a taxonomy ID that is stored in the taxonomy .h5ad which is currently fixed at <code>AI_taxonomy.h5ad</code>.</p></li>
<li><p><code>loadTaxonomy()</code> will use the anndata object if it exists to load the taxonomy. If not a new anndata object will be created from the feather files and saved while loading.</p></li>
<li><p>Exposed tree mapping parameters, can now set p, low.th and bootstrap now.</p></li>
<li><p>Ensure that the dendrogram labels (“cluster_label”) is used for all cluster level objects instead of “cluster_1, cluster_2 …”.</p></li>
<li><p>Removed all dependence on “reference.rda”, which is also no longer created.</p></li>
<li><p>Move multiple functions to internal only, not exposed to the user.</p></li>
</ul></div>
<div class="section level3">
<h3 id="parameter-renaming">Parameter renaming<a class="anchor" aria-label="anchor" href="#parameter-renaming"></a></h3>
<p>(new) | (old) taxonomyDir | shinyFolder taxonomyDir | refFolder</p>
</div>
<div class="section level3">
<h3 id="function-renaming">Function renaming<a class="anchor" aria-label="anchor" href="#function-renaming"></a></h3>
<p>(new) | (old) buildPatchseqTaxonomy | writePatchseqQCmarkers</p>
</div>
</div>


  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by Changkyu Lee.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

